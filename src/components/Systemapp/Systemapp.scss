@import "../../animations.css";

.Systemapp {
    // from parent:
    // --click-duration

    .bubble {
        position: relative;
        --size: 12vh;
        height: var(--size);
        width: var(--size);
        background-color: white;
        border-radius: 100%;
        box-shadow: 0 0 0.8vh -0.4vh grey;

        &>.icon {
            position: absolute;
            top: 50%;
            left: 50%;
            translate: -50% -50%;
            height: 52%;
            aspect-ratio: 1;
            
            &>img {
                width: 100%;
                height: 100%;
            }
        }

        &>.Album {
            &::after {
                content: "";
                position: absolute;
                inset: 0;
                background-image: url("systemapps/AlbumAfter.png");
                background-size: contain;
            }
        }
    }

    &.selected {
        &>.bubble {
            outline-style: solid;
            outline-width: 0.6vh;
            animation: changeOutlineColor 1s infinite linear;
        }
    }

    &.clicked {
        &>.bubble {
            &>* {
                &::before {
                    content: "";
                    position: absolute;
                    inset: 0;
                    border-radius: 100vh;
                    scale: 0;
                    animation: bubbleFadeOut 500ms;
                }
            }

            &>.News {
                transform-origin: bottom;
                animation: News var(--click-duration);

                &::before {
                    background-color: hsla(357, 72%, 55%, 0.1);
                }
            }

            &>.Nintendo-eShop {
                animation: Shop var(--click-duration);

                &::before {
                    background-color: hsla(38, 95%, 45%, 0.1);
                }
            }

            &>.Album {
                transform-origin: left bottom;
                animation: Album 1s;
                
                &::before {
                    transform-origin: 45% 44%;
                    background-color: hsla(216, 83%, 47%, 0.1);
                }

                &::after {
                    transform-origin: left bottom;
                    animation: AlbumAfter 1s;
                }
            }

            &>.Controller {
                transform-origin: 35% 65%;
                animation: Controller var(--click-duration);

                &::before {
                    background-color: hsla(165, 2%, 41%, 0.1);
                }
            }

            &>.System-Settings {
                animation: System-Settings var(--click-duration);

                &::before {
                    background-color: hsla(165, 2%, 41%, 0.1);
                }
            }
            
            &>.Standby-Mode {
                &::before {
                    background-color: hsla(165, 2%, 41%, 0.1);
                }
                
                &::after {
                    content: "";
                    position: absolute;
                    inset: 0;
                    background-image: url("systemapps/Standby-Mode.png");
                    background-size: contain;
                    animation: fadeOut var(--click-duration);
                }
            }
        }
    }
}

@keyframes bubbleFadeOut {
    25% {
        scale: 2.35;
    }
    80% {
        opacity: 1;
        scale: 2.35;
    }
    100% {
        scale: 2;
        opacity: 0;
    }
}

@keyframes News {
    50% {
        scale: 1.1;
    }
}

@keyframes Shop {
    50% {
        transform: translateY(-1vh);
    }
}

@keyframes Album {
    10%, 90% {
        rotate: -10deg;
    }
}
@keyframes AlbumAfter {
    10%, 90% {
        rotate: 20deg;
    }
}

@keyframes Controller {
    25% {
        rotate: -15deg;
    }
    75% {
        rotate: 15deg;
    }
}

@keyframes System-Settings {
    50% {
        scale: 1.15;
    }
    100% {
        rotate: 45deg;
    }
}

@keyframes Standby-ModeAfter {
    100% {
        scale: 1.5;
        opacity: 0.25;
    }
}